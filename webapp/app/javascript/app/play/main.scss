@import '../../framework/abstracts/variables';

.play__modal-footer{
  border-top: 1px solid #ddd;
  padding: 1em;
  display: flex;
  justify-content: space-between;
  align-items: center;
  .play__modal-footer__state{
    font-size: .9em;
    color: #888;
  }
}

.agent-compact{
  &.agent-compact--play-chooser:hover{
    box-shadow: 0 0 0 2px rgba($primary_color, .75), 0 3px 3px rgba(black, .1);
    cursor: auto;
  }
  &.agent-compact--play-chooser.agent-compact--play-chooser--disabled:hover{
    box-shadow: 0 3px 3px rgba(black, .1);
  }
}


aside.play{
  overflow: auto;
  width: 300px;
  background-color: #fff;
  box-shadow: 2px 0 3px rgba(#000, .05);
  h2{
    padding: 1em 1em;
    margin: 0;
    font-size: 1em;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(#000, .05);
    background-color: #fcfcfc;
  }
  ul{
    list-style: none;
    padding: 0;
    margin: 0;
    background-color: #fff;
    li{
      margin: 0;
      a{
        display: block;
        padding: .35em .5em;
        text-decoration: none;
        border-right: 5px solid transparent;
        &:hover,
        &:focus{
          border-right: 5px solid #ddd;
        }
      }
      &.current a{
        border-right: 5px solid $primary_color;
      }
      .agent-compact{
        font-size: .85em;
        box-shadow: none;
        text-decoration: none;
        padding: .25em;
        .agent-compact__actions{
          padding-right: 0;
        }
      }
    }
  }

}


.play-main{
  border-radius: 3px;
  border: 1px solid rgba(#000, .1);
  background-color: #fafafa;
  margin-bottom: 2em;
  box-shadow: 0 3px 3px rgba(#000, .05);
  .banner{
    margin: 0 2em 2em 2em;
  }
}

.play-main__form{
  padding: 1.5em 2em;
  textarea{
    height: 8em;
  }
  .label--uppercase{
    text-transform: uppercase;
    font-size: .7em;
    font-weight: 300;
  }
  .inputs-wrapper{
    display: grid;
    grid-template-columns: auto 100px;
    grid-column-gap: 2em;

    grid-template-areas:
      "text    options"
      "submit  submit";

    align-items: start;

    .field:nth-child(1){
      grid-area: options;
    }
    .field:nth-child(2){
      grid-area: text;
    }
    .field:nth-child(3){
      grid-area: submit;
    }
  }
}

.play-main__result{
  .play-main__result__wrapper{
    background-color: #fff;
    padding: 1em 2em 2em 2em;
    border-top: 1px solid rgba(#000, .075);
    h2{
      font-size: .9em;
      margin: -1.75em 0 0 0;
      text-align: center;
      padding: 0 0 2em 0;
      span{
        background-color: #fbfbfb;
        padding: .5em 1.25em;
        border: 1px solid rgba(#000, .075);
        border-radius: 1.5em;
        white-space: nowrap;
      }
    }
    & > div{
      line-height: 1.75em;
      p{
        margin: 0;
      }
    }
  }

  .highlight-pop{
    background-color: #333;
    color: #fff;
    box-shadow: 0 2px 3px rgba(#000, .2);
    z-index: 2;
    padding: 1em;
    border-radius: 3px;
    max-width: calc(100vw - 350px);

    @each $name, $color in $colors{
      &.highlight-pop--#{$name}{
        background-color: darken($color, 5%);
      }
    }

    h4{
      margin: 0 0 .25em 0;
      font-size: .7em;
      text-transform: uppercase;
      color: rgba(#fff, .8);
    }
    pre{
      margin: 0 0 1em 0;
      font-size: .75em;
      line-height: 1.3em;
      font-family: $family-monospace;
      overflow: auto;
      &:last-child{
        margin: 0;
      }
    }
    [x-arrow] {
      position: absolute;
      width: 12px;
      height: 12px;
      background-color: #333;
      border-radius: 6px;
    }
  }

  .highlight-pop[x-placement="bottom"] { margin-top: 10px; }
  .highlight-pop[x-placement="left"] { margin-right: 10px; }
  .highlight-pop[x-placement="top"] { margin-bottom: 10px; }
  .highlight-pop[x-placement="right"] { margin-left: 10px; }

  .highlight-pop[x-placement="bottom"] [x-arrow] { top: -5px; }
  .highlight-pop[x-placement="left"] [x-arrow] { right: -5px; }
  .highlight-pop[x-placement="top"] [x-arrow] { bottom: -5px; }
  .highlight-pop[x-placement="right"] [x-arrow] { left: -5px; }

  @each $name, $color in $colors{
    .highlight-pop--#{$name} [x-arrow]{
      background-color: darken($color, 5%);
    }
  }

  .highlight{
    z-index: 1;
    position: relative;
    white-space: nowrap;
    display: inline-block;
    padding: 0 .25em;
    border-radius: 2px;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    vertical-align: top;
    &:after{
      position: absolute;
      display: block;
      content: "";
      width: 100%;
      height: 3px;
      border-radius: 2px;
      bottom: -1px;
      left: 0;
      background-color: green;
    }
    @each $name, $color in $colors{
      &.highlight--#{$name}{
        color: darken($color, 15%);
        background-color: rgba($color, .05);
        &:after{
          background-color: $color;
        }
      }
    }
    &:hover,
    &:focus{
      cursor: zoom-in;
      -moz-user-select: none;
       -ms-user-select: none;
           user-select: none;
      &.highlight--open{ cursor: zoom-out; }
    }
  }
}
