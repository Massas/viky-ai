<header class="header header--backend-users">
  <div class="header__breadcrumb">
    <%= t('views.backend.breadcrumb.base') %> /
    <strong><%= t('views.backend.breadcrumb.dashboard') %></strong>
  </div>
</header>

<div class="dashboard-indicators">
  <%= render 'indicators_agents' %>
  <%= render 'indicators_interpretations' %>
  <%= render 'indicators_entities' %>
  <%= render 'indicators_tests' %>
  <%= render 'indicators_readmes' %>
  <%= render 'indicators_bots' %>
  <%= render 'indicators_users' %>
</div>


<div class="dashboard-tops">
  <div class="card">
    <div class="card__top">
      <%= render 'top_interpretations' %>
    </div>
  </div>

  <div class="card">
    <div class="card__top">
      <%= render 'top_entities' %>
    </div>
  </div>

  <div class="card">
    <div class="card__top">
      <%= render 'top_predecessors' %>
    </div>
  </div>

  <div class="card">
    <div class="card__top">
      <%= render 'top_tests_failures' %>
    </div>
  </div>

  <div class="card">
    <div class="card__top">
      <%= render 'top_expressions_per_owners' %>
    </div>
  </div>

  <% if Feature.quota_enabled? %>
    <div class="card">
      <div class="card__top">
        <h2><%= t("views.backend.dashboard.top_api_requests_under_quota_html") %></h2>
        <%= render partial: 'top_api_requests_per_owners', locals: { data: @top_api_requests_under_quota } %>
      </div>
    </div>
    <div class="card">
      <div class="card__top">
        <h2><%= t("views.backend.dashboard.top_api_requests_over_quota_html") %></h2>
        <%= render partial: 'top_api_requests_per_owners', locals: { data: @top_api_requests_over_quota } %>
      </div>
    </div>
  <% else %>
    <div class="card">
      <div class="card__top">
        <h2><%= t("views.backend.dashboard.top_api_requests_html") %></h2>
        <%= render partial: 'top_api_requests_per_owners', locals: { data: @top_api_requests_under_quota } %>
      </div>
    </div>
  <% end %>
</div>
