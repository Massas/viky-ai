<%= form_with model: [agent.owner, agent, intent, interpretation], id: 'interpretations-form' do |f| %>
  <%= f.hidden_field :locale, value: @current_locale %>
  <div class="field">
    <div class="control control--merged">
      <%= f.text_field :expression, id: :expression, placeholder: t('views.interpretations.new.placeholder') %>
      <%= f.button t('views.interpretations.new.btn'), class: 'btn btn--primary',
            data: {
               disable_with: "<span class='icon icon--small icon--spin'>#{icon_loading}</span>".html_safe
            } %>
    </div>
    <%= display_errors(interpretation, :expression) %>
    <%= display_errors(interpretation, :locale) %>
  </div>
  <div id='expression_options' class="field">
    <div class="field field--inline">
      <div class="control">
        <%= f.check_box :keep_order %>
        <%= f.label :keep_order %>
      </div>
      <div class="control">
        <%= f.check_box :glued %>
        <%= f.label :glued %>
      </div>
    </div>
    <div class="control">
      <%= f.label :solution %>
      <%= f.text_area :solution, rows: '3', maxlength: '2000', spellcheck: 'false' %>
    </div>
    <%= display_errors(interpretation, :keep_order) %>
    <%= display_errors(interpretation, :glued) %>
    <%= display_errors(interpretation, :solution) %>
  </div>
<% end %>
